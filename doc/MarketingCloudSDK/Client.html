<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: MarketingCloudSDK::Client
  
    &mdash; Documentation by YARD 0.9.12
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "MarketingCloudSDK::Client";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (C)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../MarketingCloudSDK.html" title="MarketingCloudSDK (module)">MarketingCloudSDK</a></span></span>
     &raquo; 
    <span class="title">Client</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: MarketingCloudSDK::Client
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">MarketingCloudSDK::Client</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd><span class='object_link'><a href="Rest.html" title="MarketingCloudSDK::Rest (module)">Rest</a></span>, <span class='object_link'><a href="Soap.html" title="MarketingCloudSDK::Soap (module)">Soap</a></span></dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/marketingcloudsdk/client.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Represents Rest or Soap client for Salesforce Marketing Cloud</p>


  </div>
</div>
<div class="tags">
  

</div>



  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#access_token-instance_method" title="#access_token (instance method)">#<strong>access_token</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute access_token.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#auth_token-instance_method" title="#auth_token (instance method)">#<strong>auth_token</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute auth_token.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#auth_token_expiration-instance_method" title="#auth_token_expiration (instance method)">#<strong>auth_token_expiration</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute auth_token_expiration.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#debug-instance_method" title="#debug (instance method)">#<strong>debug</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute debug.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#id-instance_method" title="#id (instance method)">#<strong>id</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute id.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#internal_token-instance_method" title="#internal_token (instance method)">#<strong>internal_token</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute internal_token.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#package_folders-instance_method" title="#package_folders (instance method)">#<strong>package_folders</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute package_folders.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#package_name-instance_method" title="#package_name (instance method)">#<strong>package_name</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute package_name.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#parent_folders-instance_method" title="#parent_folders (instance method)">#<strong>parent_folders</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute parent_folders.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#refresh_token-instance_method" title="#refresh_token (instance method)">#<strong>refresh_token</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute refresh_token.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#request_token_url-instance_method" title="#request_token_url (instance method)">#<strong>request_token_url</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute request_token_url.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#secret-instance_method" title="#secret (instance method)">#<strong>secret</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute secret.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#signature-instance_method" title="#signature (instance method)">#<strong>signature</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute signature.</p>
</div></span>
  
</li>

    
  </ul>



  
  
  <h3 class="inherited">Attributes included from <span class='object_link'><a href="Targeting.html" title="MarketingCloudSDK::Targeting (module)">Targeting</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Targeting.html#endpoint-instance_method" title="MarketingCloudSDK::Targeting#endpoint (method)">#endpoint</a></span></p>

  
  
  <h3 class="inherited">Attributes included from <span class='object_link'><a href="Soap.html" title="MarketingCloudSDK::Soap (module)">Soap</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Soap.html#wsdl-instance_method" title="MarketingCloudSDK::Soap#wsdl (method)">#wsdl</a></span></p>


  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#AddSubscriberToList-instance_method" title="#AddSubscriberToList (instance method)">#<strong>AddSubscriberToList</strong>(email, ids, subscriber_key = nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Add subscriber to list.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#CreateAndStartDataExtensionImport-instance_method" title="#CreateAndStartDataExtensionImport (instance method)">#<strong>CreateAndStartDataExtensionImport</strong>(dataExtensionCustomerKey, fileName, overwrite)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Create an import definition and start the import process.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#CreateAndStartListImport-instance_method" title="#CreateAndStartListImport (instance method)">#<strong>CreateAndStartListImport</strong>(listId, fileName)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Create an import definition and start the import process.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#CreateContentAreas-instance_method" title="#CreateContentAreas (instance method)">#<strong>CreateContentAreas</strong>(arrayOfContentAreas)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Create one or more content areas.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#CreateDataExtensions-instance_method" title="#CreateDataExtensions (instance method)">#<strong>CreateDataExtensions</strong>(definitions)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Create a new data extension based on the definitions passed.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#CreateProfileAttributes-instance_method" title="#CreateProfileAttributes (instance method)">#<strong>CreateProfileAttributes</strong>(allAttributes)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Create a profile attribute.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(params = {}, debug = false)  &#x21d2; Client </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Initializes a new instance of the Client class.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#jwt=-instance_method" title="#jwt= (instance method)">#<strong>jwt=</strong>(encoded_jwt)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Custom code to assign jwt.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#refresh-instance_method" title="#refresh (instance method)">#<strong>refresh</strong>(force = false)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Gets the refresh token using the authentication URL.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#refresh!-instance_method" title="#refresh! (instance method)">#<strong>refresh!</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#SendEmailToDataExtension-instance_method" title="#SendEmailToDataExtension (instance method)">#<strong>SendEmailToDataExtension</strong>(emailID, sendableDataExtensionCustomerKey, sendClassificationCustomerKey)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Create an email send definition, send the email based on the definition and
delete the definition.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#SendEmailToList-instance_method" title="#SendEmailToList (instance method)">#<strong>SendEmailToList</strong>(emailID, listID, sendClassificationCustomerKey)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Create an email send definition, send the email based on the definition and
delete the definition.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#SendTriggeredSends-instance_method" title="#SendTriggeredSends (instance method)">#<strong>SendTriggeredSends</strong>(arrayOfTriggeredRecords)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Starts an send operation for the TriggerredSend records.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Rest.html" title="MarketingCloudSDK::Rest (module)">Rest</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Rest.html#complete_url-instance_method" title="MarketingCloudSDK::Rest#complete_url (method)">#complete_url</a></span>, <span class='object_link'><a href="Rest.html#get_url_properties-instance_method" title="MarketingCloudSDK::Rest#get_url_properties (method)">#get_url_properties</a></span>, <span class='object_link'><a href="Rest.html#normalize_keys-instance_method" title="MarketingCloudSDK::Rest#normalize_keys (method)">#normalize_keys</a></span>, <span class='object_link'><a href="Rest.html#parse_properties-instance_method" title="MarketingCloudSDK::Rest#parse_properties (method)">#parse_properties</a></span>, <span class='object_link'><a href="Rest.html#rest_client-instance_method" title="MarketingCloudSDK::Rest#rest_client (method)">#rest_client</a></span>, <span class='object_link'><a href="Rest.html#rest_delete-instance_method" title="MarketingCloudSDK::Rest#rest_delete (method)">#rest_delete</a></span>, <span class='object_link'><a href="Rest.html#rest_get-instance_method" title="MarketingCloudSDK::Rest#rest_get (method)">#rest_get</a></span>, <span class='object_link'><a href="Rest.html#rest_patch-instance_method" title="MarketingCloudSDK::Rest#rest_patch (method)">#rest_patch</a></span>, <span class='object_link'><a href="Rest.html#rest_post-instance_method" title="MarketingCloudSDK::Rest#rest_post (method)">#rest_post</a></span></p>

  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Soap.html" title="MarketingCloudSDK::Soap (module)">Soap</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Soap.html#header-instance_method" title="MarketingCloudSDK::Soap#header (method)">#header</a></span>, <span class='object_link'><a href="Soap.html#soap_client-instance_method" title="MarketingCloudSDK::Soap#soap_client (method)">#soap_client</a></span>, <span class='object_link'><a href="Soap.html#soap_configure-instance_method" title="MarketingCloudSDK::Soap#soap_configure (method)">#soap_configure</a></span>, <span class='object_link'><a href="Soap.html#soap_delete-instance_method" title="MarketingCloudSDK::Soap#soap_delete (method)">#soap_delete</a></span>, <span class='object_link'><a href="Soap.html#soap_describe-instance_method" title="MarketingCloudSDK::Soap#soap_describe (method)">#soap_describe</a></span>, <span class='object_link'><a href="Soap.html#soap_get-instance_method" title="MarketingCloudSDK::Soap#soap_get (method)">#soap_get</a></span>, <span class='object_link'><a href="Soap.html#soap_patch-instance_method" title="MarketingCloudSDK::Soap#soap_patch (method)">#soap_patch</a></span>, <span class='object_link'><a href="Soap.html#soap_perform-instance_method" title="MarketingCloudSDK::Soap#soap_perform (method)">#soap_perform</a></span>, <span class='object_link'><a href="Soap.html#soap_post-instance_method" title="MarketingCloudSDK::Soap#soap_post (method)">#soap_post</a></span>, <span class='object_link'><a href="Soap.html#soap_put-instance_method" title="MarketingCloudSDK::Soap#soap_put (method)">#soap_put</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(params = {}, debug = false)  &#x21d2; <tt><span class='object_link'><a href="" title="MarketingCloudSDK::Client (class)">Client</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Initializes a new instance of the Client class. Logging is enabled when the
value is set to true and disabled when set to false.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>Boolean</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>debug Flag to indicate whether debug information needs to be logged.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>Hash</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>params Hash of settings as string.&lt;/br&gt;</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/marketingcloudsdk/client.rb', line 112</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='id identifier rubyid_debug'>debug</span><span class='op'>=</span><span class='kw'>false</span><span class='rparen'>)</span>
	<span class='ivar'>@refresh_mutex</span> <span class='op'>=</span> <span class='const'>Mutex</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
	<span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='op'>=</span> <span class='id identifier rubyid_debug'>debug</span>
	<span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_request_token_url'>request_token_url</span> <span class='op'>=</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>request_token_url</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>?</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>request_token_url</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>https://auth.exacttargetapis.com/v1/requestToken</span><span class='tstring_end'>&#39;</span></span>

	<span class='id identifier rubyid_client_config'>client_config</span> <span class='op'>=</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>client</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
	<span class='kw'>if</span> <span class='id identifier rubyid_client_config'>client_config</span>
		<span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span> <span class='op'>=</span> <span class='id identifier rubyid_client_config'>client_config</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>id</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
		<span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_secret'>secret</span> <span class='op'>=</span> <span class='id identifier rubyid_client_config'>client_config</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>secret</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
		<span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_signature'>signature</span> <span class='op'>=</span> <span class='id identifier rubyid_client_config'>client_config</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>signature</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
		<span class='kw'>if</span> <span class='id identifier rubyid_client_config'>client_config</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>request_token_url</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
			<span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_request_token_url'>request_token_url</span> <span class='op'>=</span> <span class='id identifier rubyid_client_config'>client_config</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>request_token_url</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
		<span class='kw'>end</span>
	<span class='kw'>end</span>

     	<span class='comment'># self.request_token_url = params[&#39;request_token_url&#39;] ? params[&#39;request_token_url&#39;] : &#39;https://auth.exacttargetapis.com/v1/requestToken&#39;
</span>	<span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_jwt'>jwt</span> <span class='op'>=</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>jwt</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>jwt</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
	<span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_refresh_token'>refresh_token</span> <span class='op'>=</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>refresh_token</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>refresh_token</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
	<span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_wsdl'>wsdl</span> <span class='op'>=</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>defaultwsdl</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>defaultwsdl</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="access_token=-instance_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="access_token-instance_method">
  
    #<strong>access_token</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute access_token</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


88
89
90</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/marketingcloudsdk/client.rb', line 88</span>

<span class='kw'>def</span> <span class='id identifier rubyid_access_token'>access_token</span>
  <span class='ivar'>@access_token</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="auth_token=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="auth_token-instance_method">
  
    #<strong>auth_token</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute auth_token</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


88
89
90</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/marketingcloudsdk/client.rb', line 88</span>

<span class='kw'>def</span> <span class='id identifier rubyid_auth_token'>auth_token</span>
  <span class='ivar'>@auth_token</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="auth_token_expiration=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="auth_token_expiration-instance_method">
  
    #<strong>auth_token_expiration</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute auth_token_expiration</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


88
89
90</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/marketingcloudsdk/client.rb', line 88</span>

<span class='kw'>def</span> <span class='id identifier rubyid_auth_token_expiration'>auth_token_expiration</span>
  <span class='ivar'>@auth_token_expiration</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="debug=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="debug-instance_method">
  
    #<strong>debug</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute debug</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


88
89
90</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/marketingcloudsdk/client.rb', line 88</span>

<span class='kw'>def</span> <span class='id identifier rubyid_debug'>debug</span>
  <span class='ivar'>@debug</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="id=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="id-instance_method">
  
    #<strong>id</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute id</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


88
89
90</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/marketingcloudsdk/client.rb', line 88</span>

<span class='kw'>def</span> <span class='id identifier rubyid_id'>id</span>
  <span class='ivar'>@id</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="internal_token=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="internal_token-instance_method">
  
    #<strong>internal_token</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute internal_token</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


88
89
90</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/marketingcloudsdk/client.rb', line 88</span>

<span class='kw'>def</span> <span class='id identifier rubyid_internal_token'>internal_token</span>
  <span class='ivar'>@internal_token</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="package_folders=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="package_folders-instance_method">
  
    #<strong>package_folders</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute package_folders</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


88
89
90</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/marketingcloudsdk/client.rb', line 88</span>

<span class='kw'>def</span> <span class='id identifier rubyid_package_folders'>package_folders</span>
  <span class='ivar'>@package_folders</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="package_name=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="package_name-instance_method">
  
    #<strong>package_name</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute package_name</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


88
89
90</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/marketingcloudsdk/client.rb', line 88</span>

<span class='kw'>def</span> <span class='id identifier rubyid_package_name'>package_name</span>
  <span class='ivar'>@package_name</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="parent_folders=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="parent_folders-instance_method">
  
    #<strong>parent_folders</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute parent_folders</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


88
89
90</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/marketingcloudsdk/client.rb', line 88</span>

<span class='kw'>def</span> <span class='id identifier rubyid_parent_folders'>parent_folders</span>
  <span class='ivar'>@parent_folders</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="refresh_token=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="refresh_token-instance_method">
  
    #<strong>refresh_token</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute refresh_token</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


88
89
90</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/marketingcloudsdk/client.rb', line 88</span>

<span class='kw'>def</span> <span class='id identifier rubyid_refresh_token'>refresh_token</span>
  <span class='ivar'>@refresh_token</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="request_token_url=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="request_token_url-instance_method">
  
    #<strong>request_token_url</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute request_token_url</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


88
89
90</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/marketingcloudsdk/client.rb', line 88</span>

<span class='kw'>def</span> <span class='id identifier rubyid_request_token_url'>request_token_url</span>
  <span class='ivar'>@request_token_url</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="secret=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="secret-instance_method">
  
    #<strong>secret</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute secret</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


88
89
90</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/marketingcloudsdk/client.rb', line 88</span>

<span class='kw'>def</span> <span class='id identifier rubyid_secret'>secret</span>
  <span class='ivar'>@secret</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="signature=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="signature-instance_method">
  
    #<strong>signature</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute signature</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


88
89
90</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/marketingcloudsdk/client.rb', line 88</span>

<span class='kw'>def</span> <span class='id identifier rubyid_signature'>signature</span>
  <span class='ivar'>@signature</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="AddSubscriberToList-instance_method">
  
    #<strong>AddSubscriberToList</strong>(email, ids, subscriber_key = nil)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Add subscriber to list.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>string</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>email Email address of the subscriber</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>Array</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>ids Array of list id to which the subscriber is added</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>string</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>subscriber_key Newly added subscriber key</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>The post response object</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


176
177
178
179
180
181
182
183
184
185
186
187
188
189
190</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/marketingcloudsdk/client.rb', line 176</span>

<span class='kw'>def</span> <span class='const'>AddSubscriberToList</span><span class='lparen'>(</span><span class='id identifier rubyid_email'>email</span><span class='comma'>,</span> <span class='id identifier rubyid_ids'>ids</span><span class='comma'>,</span> <span class='id identifier rubyid_subscriber_key'>subscriber_key</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../MarketingCloudSDK.html" title="MarketingCloudSDK (module)">MarketingCloudSDK</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Subscriber.html" title="MarketingCloudSDK::Subscriber (class)">Subscriber</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
	<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_client'>client</span> <span class='op'>=</span> <span class='kw'>self</span>
	<span class='id identifier rubyid_lists'>lists</span> <span class='op'>=</span> <span class='id identifier rubyid_ids'>ids</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_id'>id</span><span class='op'>|</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ID</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_id'>id</span><span class='rbrace'>}</span><span class='rbrace'>}</span>
	<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>EmailAddress</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_email'>email</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Lists</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_lists'>lists</span><span class='rbrace'>}</span>
	<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> 
	<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>SubscriberKey</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_subscriber_key'>subscriber_key</span> <span class='kw'>if</span> <span class='id identifier rubyid_subscriber_key'>subscriber_key</span>

	<span class='comment'># Try to add the subscriber
</span>	<span class='kw'>if</span><span class='lparen'>(</span><span class='id identifier rubyid_rsp'>rsp</span> <span class='op'>=</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_post'>post</span> <span class='kw'>and</span> <span class='id identifier rubyid_rsp'>rsp</span><span class='period'>.</span><span class='id identifier rubyid_results'>results</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='lbracket'>[</span><span class='symbol'>:error_code</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>12014</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
	<span class='comment'># subscriber already exists we need to update.
</span>	<span class='id identifier rubyid_rsp'>rsp</span> <span class='op'>=</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_patch'>patch</span>
	<span class='kw'>end</span>
	<span class='id identifier rubyid_rsp'>rsp</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="CreateAndStartDataExtensionImport-instance_method">
  
    #<strong>CreateAndStartDataExtensionImport</strong>(dataExtensionCustomerKey, fileName, overwrite)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Create an import definition and start the import process</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>string</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>dataExtensionCustomerKey Data extension customer key. Used as the
destination object identifier.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>string</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>fileName Name of the file to be imported</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>Boolean</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>overwrite Flag to indicate to overwrite the uploaded file</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>Returns the import process result</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/marketingcloudsdk/client.rb', line 298</span>

<span class='kw'>def</span> <span class='const'>CreateAndStartDataExtensionImport</span><span class='lparen'>(</span><span class='id identifier rubyid_dataExtensionCustomerKey'>dataExtensionCustomerKey</span><span class='comma'>,</span> <span class='id identifier rubyid_fileName'>fileName</span><span class='comma'>,</span> <span class='id identifier rubyid_overwrite'>overwrite</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_import'>import</span> <span class='op'>=</span> <span class='const'>ET_Import</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> 
	<span class='id identifier rubyid_import'>import</span><span class='period'>.</span><span class='id identifier rubyid_authStub'>authStub</span> <span class='op'>=</span> <span class='kw'>self</span>
	<span class='id identifier rubyid_import'>import</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SDK Generated Import </span><span class='embexpr_beg'>#{</span><span class='const'>DateTime</span><span class='period'>.</span><span class='id identifier rubyid_now'>now</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rbrace'>}</span>
	<span class='id identifier rubyid_import'>import</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CustomerKey</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'>SecureRandom</span><span class='period'>.</span><span class='id identifier rubyid_uuid'>uuid</span>
	<span class='id identifier rubyid_import'>import</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Description</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SDK Generated Import</span><span class='tstring_end'>&quot;</span></span>
	<span class='id identifier rubyid_import'>import</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>AllowErrors</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>true</span><span class='tstring_end'>&quot;</span></span>
	<span class='id identifier rubyid_import'>import</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DestinationObject</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CustomerKey</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='id identifier rubyid_dataExtensionCustomerKey'>dataExtensionCustomerKey</span><span class='rbrace'>}</span>
	<span class='id identifier rubyid_import'>import</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>FieldMappingType</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>InferFromColumnHeadings</span><span class='tstring_end'>&quot;</span></span>
	<span class='id identifier rubyid_import'>import</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>FileSpec</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_fileName'>fileName</span>
	<span class='id identifier rubyid_import'>import</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>FileType</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CSV</span><span class='tstring_end'>&quot;</span></span>
	<span class='id identifier rubyid_import'>import</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RetrieveFileTransferLocation</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CustomerKey</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ExactTarget Enhanced FTP</span><span class='tstring_end'>&quot;</span></span><span class='rbrace'>}</span>
	<span class='kw'>if</span> <span class='id identifier rubyid_overwrite'>overwrite</span> <span class='kw'>then</span>
		<span class='id identifier rubyid_import'>import</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UpdateType</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Overwrite</span><span class='tstring_end'>&quot;</span></span>
	<span class='kw'>else</span> 
		<span class='id identifier rubyid_import'>import</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UpdateType</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>AddAndUpdate</span><span class='tstring_end'>&quot;</span></span>
	<span class='kw'>end</span> 
	<span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_import'>import</span><span class='period'>.</span><span class='id identifier rubyid_post'>post</span>
	
	<span class='kw'>if</span> <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_status'>status</span> <span class='kw'>then</span> 
		<span class='kw'>return</span> <span class='id identifier rubyid_import'>import</span><span class='period'>.</span><span class='id identifier rubyid_start'>start</span> 
	<span class='kw'>else</span>
		<span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unable to create import definition due to: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_results'>results</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:status_message</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
	<span class='kw'>end</span> 
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="CreateAndStartListImport-instance_method">
  
    #<strong>CreateAndStartListImport</strong>(listId, fileName)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Create an import definition and start the import process</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>string</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>listId List identifier. Used as the destination object identifier.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>string</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>fileName Name of the file to be imported</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>Returns the import process result</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/marketingcloudsdk/client.rb', line 271</span>

<span class='kw'>def</span> <span class='const'>CreateAndStartListImport</span><span class='lparen'>(</span><span class='id identifier rubyid_listId'>listId</span><span class='comma'>,</span><span class='id identifier rubyid_fileName'>fileName</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_import'>import</span> <span class='op'>=</span> <span class='const'>ET_Import</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> 
	<span class='id identifier rubyid_import'>import</span><span class='period'>.</span><span class='id identifier rubyid_authStub'>authStub</span> <span class='op'>=</span> <span class='kw'>self</span>
	<span class='id identifier rubyid_import'>import</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SDK Generated Import </span><span class='embexpr_beg'>#{</span><span class='const'>DateTime</span><span class='period'>.</span><span class='id identifier rubyid_now'>now</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rbrace'>}</span>
	<span class='id identifier rubyid_import'>import</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CustomerKey</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'>SecureRandom</span><span class='period'>.</span><span class='id identifier rubyid_uuid'>uuid</span>
	<span class='id identifier rubyid_import'>import</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Description</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SDK Generated Import</span><span class='tstring_end'>&quot;</span></span>
	<span class='id identifier rubyid_import'>import</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>AllowErrors</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>true</span><span class='tstring_end'>&quot;</span></span>
	<span class='id identifier rubyid_import'>import</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DestinationObject</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ID</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='id identifier rubyid_listId'>listId</span><span class='rbrace'>}</span>
	<span class='id identifier rubyid_import'>import</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>FieldMappingType</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>InferFromColumnHeadings</span><span class='tstring_end'>&quot;</span></span>
	<span class='id identifier rubyid_import'>import</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>FileSpec</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_fileName'>fileName</span>
	<span class='id identifier rubyid_import'>import</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>FileType</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CSV</span><span class='tstring_end'>&quot;</span></span>
	<span class='id identifier rubyid_import'>import</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RetrieveFileTransferLocation</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CustomerKey</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ExactTarget Enhanced FTP</span><span class='tstring_end'>&quot;</span></span><span class='rbrace'>}</span>
	<span class='id identifier rubyid_import'>import</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UpdateType</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>AddAndUpdate</span><span class='tstring_end'>&quot;</span></span>
	<span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_import'>import</span><span class='period'>.</span><span class='id identifier rubyid_post'>post</span>
	
	<span class='kw'>if</span> <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_status'>status</span> <span class='kw'>then</span> 
		<span class='kw'>return</span> <span class='id identifier rubyid_import'>import</span><span class='period'>.</span><span class='id identifier rubyid_start'>start</span> 
	<span class='kw'>else</span>
		<span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unable to create import definition due to: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_results'>results</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:status_message</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
	<span class='kw'>end</span> 
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="CreateContentAreas-instance_method">
  
    #<strong>CreateContentAreas</strong>(arrayOfContentAreas)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Create one or more content areas</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>array</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>$arrayOfContentAreas Content areas properties as an array</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>the post response object</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


337
338
339
340
341
342
343</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/marketingcloudsdk/client.rb', line 337</span>

<span class='kw'>def</span> <span class='const'>CreateContentAreas</span><span class='lparen'>(</span><span class='id identifier rubyid_arrayOfContentAreas'>arrayOfContentAreas</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_postC'>postC</span> <span class='op'>=</span> <span class='const'>ET_ContentArea</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
	<span class='id identifier rubyid_postC'>postC</span><span class='period'>.</span><span class='id identifier rubyid_authStub'>authStub</span> <span class='op'>=</span> <span class='kw'>self</span>
	<span class='id identifier rubyid_postC'>postC</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>=</span> <span class='id identifier rubyid_arrayOfContentAreas'>arrayOfContentAreas</span>
	<span class='id identifier rubyid_sendResponse'>sendResponse</span> <span class='op'>=</span> <span class='id identifier rubyid_postC'>postC</span><span class='period'>.</span><span class='id identifier rubyid_post'>post</span>			
	<span class='kw'>return</span> <span class='id identifier rubyid_sendResponse'>sendResponse</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="CreateDataExtensions-instance_method">
  
    #<strong>CreateDataExtensions</strong>(definitions)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Create a new data extension based on the definitions passed</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>array</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>definitions Data extension definition properties as an array</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>mixed post response object</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


195
196
197
198
199
200</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/marketingcloudsdk/client.rb', line 195</span>

<span class='kw'>def</span> <span class='const'>CreateDataExtensions</span><span class='lparen'>(</span><span class='id identifier rubyid_definitions'>definitions</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_de'>de</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../MarketingCloudSDK.html" title="MarketingCloudSDK (module)">MarketingCloudSDK</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="DataExtension.html" title="MarketingCloudSDK::DataExtension (class)">DataExtension</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
	<span class='id identifier rubyid_de'>de</span><span class='period'>.</span><span class='id identifier rubyid_client'>client</span> <span class='op'>=</span> <span class='kw'>self</span>
	<span class='id identifier rubyid_de'>de</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>=</span> <span class='id identifier rubyid_definitions'>definitions</span>
	<span class='id identifier rubyid_de'>de</span><span class='period'>.</span><span class='id identifier rubyid_post'>post</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="CreateProfileAttributes-instance_method">
  
    #<strong>CreateProfileAttributes</strong>(allAttributes)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Create a profile attribute</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>array</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>$allAttributes Profile attribute properties as an array.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>the post response object</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


327
328
329
330
331
332</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/marketingcloudsdk/client.rb', line 327</span>

<span class='kw'>def</span> <span class='const'>CreateProfileAttributes</span><span class='lparen'>(</span><span class='id identifier rubyid_allAttributes'>allAttributes</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_attrs'>attrs</span> <span class='op'>=</span> <span class='const'>ET_ProfileAttribute</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> 
	<span class='id identifier rubyid_attrs'>attrs</span><span class='period'>.</span><span class='id identifier rubyid_authStub'>authStub</span> <span class='op'>=</span> <span class='kw'>self</span>
	<span class='id identifier rubyid_attrs'>attrs</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>=</span> <span class='id identifier rubyid_allAttributes'>allAttributes</span>
	<span class='kw'>return</span> <span class='id identifier rubyid_attrs'>attrs</span><span class='period'>.</span><span class='id identifier rubyid_post'>post</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="jwt=-instance_method">
  
    #<strong>jwt=</strong>(encoded_jwt)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Custom code to assign jwt</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>string</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>encoded_jwt The encoded jwt value</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


96
97
98
99
100
101
102
103
104
105
106</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/marketingcloudsdk/client.rb', line 96</span>

<span class='kw'>def</span> <span class='id identifier rubyid_jwt='>jwt=</span> <span class='id identifier rubyid_encoded_jwt'>encoded_jwt</span>
	<span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Require app signature to decode JWT</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_signature'>signature</span>
	<span class='id identifier rubyid_decoded_jwt'>decoded_jwt</span> <span class='op'>=</span> <span class='const'>JWT</span><span class='period'>.</span><span class='id identifier rubyid_decode'>decode</span><span class='lparen'>(</span><span class='id identifier rubyid_encoded_jwt'>encoded_jwt</span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_signature'>signature</span><span class='comma'>,</span> <span class='kw'>true</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_decoded_jwt'>decoded_jwt</span> <span class='op'>=</span> <span class='id identifier rubyid_decoded_jwt'>decoded_jwt</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
	<span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_decoded_jwt'>decoded_jwt</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span>
	<span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_auth_token'>auth_token</span> <span class='op'>=</span> <span class='id identifier rubyid_decoded_jwt'>decoded_jwt</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>request</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>user</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>oauthToken</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
	<span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_internal_token'>internal_token</span> <span class='op'>=</span> <span class='id identifier rubyid_decoded_jwt'>decoded_jwt</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>request</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>user</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>internalOauthToken</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
	<span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_refresh_token'>refresh_token</span> <span class='op'>=</span> <span class='id identifier rubyid_decoded_jwt'>decoded_jwt</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>request</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>user</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>refreshToken</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
	<span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_auth_token_expiration'>auth_token_expiration</span> <span class='op'>=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='op'>+</span> <span class='id identifier rubyid_decoded_jwt'>decoded_jwt</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>request</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>user</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>expiresIn</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
	<span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_package_name'>package_name</span> <span class='op'>=</span> <span class='id identifier rubyid_decoded_jwt'>decoded_jwt</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>request</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>application</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>package</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="refresh-instance_method">
  
    #<strong>refresh</strong>(force = false)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Gets the refresh token using the authentication URL.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>Boolean</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>force Flag to indicate a force refresh of authentication toekn.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>Boolean returns true if the new access token is found, false otherwise.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/marketingcloudsdk/client.rb', line 136</span>

<span class='kw'>def</span> <span class='id identifier rubyid_refresh'>refresh</span> <span class='id identifier rubyid_force'>force</span><span class='op'>=</span><span class='kw'>false</span>
	<span class='ivar'>@refresh_mutex</span><span class='period'>.</span><span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
		<span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Require Client Id and Client Secret to refresh tokens</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='lparen'>(</span><span class='id identifier rubyid_id'>id</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_secret'>secret</span><span class='rparen'>)</span>
		<span class='comment'>#If we don&#39;t already have a token or the token expires within 5 min(300 seconds)
</span>		<span class='kw'>if</span> <span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_access_token'>access_token</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='op'>+</span> <span class='int'>300</span> <span class='op'>&gt;</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_auth_token_expiration'>auth_token_expiration</span> <span class='op'>||</span> <span class='id identifier rubyid_force'>force</span><span class='rparen'>)</span> <span class='kw'>then</span>
		<span class='id identifier rubyid_payload'>payload</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='period'>.</span><span class='id identifier rubyid_tap'>tap</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_h'>h</span><span class='op'>|</span>
			<span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>clientId</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='op'>=</span> <span class='id identifier rubyid_id'>id</span>
			<span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>clientSecret</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_secret'>secret</span>
			<span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>refreshToken</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_refresh_token'>refresh_token</span> <span class='kw'>if</span> <span class='id identifier rubyid_refresh_token'>refresh_token</span>
			<span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>accessType</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>offline</span><span class='tstring_end'>&#39;</span></span>
		<span class='kw'>end</span>

		<span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='period'>.</span><span class='id identifier rubyid_tap'>tap</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_h'>h</span><span class='op'>|</span>
			<span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>data</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_payload'>payload</span>
			<span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>content_type</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>application/json</span><span class='tstring_end'>&#39;</span></span>
			<span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>params</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>legacy</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='int'>1</span><span class='rbrace'>}</span>
		<span class='kw'>end</span>
		<span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='id identifier rubyid_post'>post</span><span class='lparen'>(</span><span class='id identifier rubyid_request_token_url'>request_token_url</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
		<span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unable to refresh token: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_response'>response</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>message</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>accessToken</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>

		<span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_access_token'>access_token</span> <span class='op'>=</span> <span class='id identifier rubyid_response'>response</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>accessToken</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
		<span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_internal_token'>internal_token</span> <span class='op'>=</span> <span class='id identifier rubyid_response'>response</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>legacyToken</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
		<span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_auth_token_expiration'>auth_token_expiration</span> <span class='op'>=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='op'>+</span> <span class='id identifier rubyid_response'>response</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>expiresIn</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
		<span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_refresh_token'>refresh_token</span> <span class='op'>=</span> <span class='id identifier rubyid_response'>response</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>refreshToken</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>refreshToken</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
		<span class='kw'>return</span> <span class='kw'>true</span>
		<span class='kw'>else</span> 
		<span class='kw'>return</span> <span class='kw'>false</span>
		<span class='kw'>end</span>
	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="refresh!-instance_method">
  
    #<strong>refresh!</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


167
168
169</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/marketingcloudsdk/client.rb', line 167</span>

<span class='kw'>def</span> <span class='id identifier rubyid_refresh!'>refresh!</span>
	<span class='id identifier rubyid_refresh'>refresh</span> <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="SendEmailToDataExtension-instance_method">
  
    #<strong>SendEmailToDataExtension</strong>(emailID, sendableDataExtensionCustomerKey, sendClassificationCustomerKey)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Create an email send definition, send the email based on the definition and
delete the definition.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>string</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>emailID Email identifier for which the email is sent</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>string</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>sendableDataExtensionCustomerKey Sendable data extension customer key</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>string</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>sendClassficationCustomerKey Send classification customer key</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>The send reponse object</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/marketingcloudsdk/client.rb', line 246</span>

<span class='kw'>def</span> <span class='const'>SendEmailToDataExtension</span><span class='lparen'>(</span><span class='id identifier rubyid_emailID'>emailID</span><span class='comma'>,</span> <span class='id identifier rubyid_sendableDataExtensionCustomerKey'>sendableDataExtensionCustomerKey</span><span class='comma'>,</span> <span class='id identifier rubyid_sendClassificationCustomerKey'>sendClassificationCustomerKey</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_email'>email</span> <span class='op'>=</span> <span class='const'>ET_Email</span><span class='op'>::</span><span class='const'>SendDefinition</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> 
	<span class='id identifier rubyid_email'>email</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='const'>SecureRandom</span><span class='period'>.</span><span class='id identifier rubyid_uuid'>uuid</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CustomerKey</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='const'>SecureRandom</span><span class='period'>.</span><span class='id identifier rubyid_uuid'>uuid</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Description</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Created with RubySDK</span><span class='tstring_end'>&quot;</span></span><span class='rbrace'>}</span> 
	<span class='id identifier rubyid_email'>email</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SendClassification</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CustomerKey</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span> <span class='id identifier rubyid_sendClassificationCustomerKey'>sendClassificationCustomerKey</span><span class='rbrace'>}</span>
	<span class='id identifier rubyid_email'>email</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SendDefinitionList</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CustomerKey</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span> <span class='id identifier rubyid_sendableDataExtensionCustomerKey'>sendableDataExtensionCustomerKey</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DataSourceTypeID</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CustomObject</span><span class='tstring_end'>&quot;</span></span><span class='rbrace'>}</span>
	<span class='id identifier rubyid_email'>email</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Email</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ID</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='id identifier rubyid_emailID'>emailID</span><span class='rbrace'>}</span>
	<span class='id identifier rubyid_email'>email</span><span class='period'>.</span><span class='id identifier rubyid_authStub'>authStub</span> <span class='op'>=</span> <span class='kw'>self</span>
	<span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_email'>email</span><span class='period'>.</span><span class='id identifier rubyid_post'>post</span>
	<span class='kw'>if</span> <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_status'>status</span> <span class='kw'>then</span> 
		<span class='id identifier rubyid_sendresult'>sendresult</span> <span class='op'>=</span> <span class='id identifier rubyid_email'>email</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span> 
		<span class='kw'>if</span> <span class='id identifier rubyid_sendresult'>sendresult</span><span class='period'>.</span><span class='id identifier rubyid_status'>status</span> <span class='kw'>then</span> 
			<span class='id identifier rubyid_deleteresult'>deleteresult</span> <span class='op'>=</span> <span class='id identifier rubyid_email'>email</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span>
			<span class='kw'>return</span> <span class='id identifier rubyid_sendresult'>sendresult</span>
		<span class='kw'>else</span> 
			<span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unable to send using send definition due to: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_results'>results</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:status_message</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
		<span class='kw'>end</span> 
	<span class='kw'>else</span>
		<span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unable to create send definition due to: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_results'>results</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:status_message</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
	<span class='kw'>end</span> 
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="SendEmailToList-instance_method">
  
    #<strong>SendEmailToList</strong>(emailID, listID, sendClassificationCustomerKey)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Create an email send definition, send the email based on the definition and
delete the definition.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>string</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>emailID Email identifier for which the email is sent</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>string</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>listID Send definition list identifier</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>string</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>sendClassficationCustomerKey Send classification customer key</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>The send reponse object</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/marketingcloudsdk/client.rb', line 220</span>

<span class='kw'>def</span> <span class='const'>SendEmailToList</span><span class='lparen'>(</span><span class='id identifier rubyid_emailID'>emailID</span><span class='comma'>,</span> <span class='id identifier rubyid_listID'>listID</span><span class='comma'>,</span> <span class='id identifier rubyid_sendClassificationCustomerKey'>sendClassificationCustomerKey</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_email'>email</span> <span class='op'>=</span> <span class='const'>ET_Email</span><span class='op'>::</span><span class='const'>SendDefinition</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> 
	<span class='id identifier rubyid_email'>email</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='const'>SecureRandom</span><span class='period'>.</span><span class='id identifier rubyid_uuid'>uuid</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CustomerKey</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='const'>SecureRandom</span><span class='period'>.</span><span class='id identifier rubyid_uuid'>uuid</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Description</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Created with RubySDK</span><span class='tstring_end'>&quot;</span></span><span class='rbrace'>}</span> 
	<span class='id identifier rubyid_email'>email</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SendClassification</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CustomerKey</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='id identifier rubyid_sendClassificationCustomerKey'>sendClassificationCustomerKey</span><span class='rbrace'>}</span>
	<span class='id identifier rubyid_email'>email</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SendDefinitionList</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>List</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ID</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='id identifier rubyid_listID'>listID</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DataSourceTypeID</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>List</span><span class='tstring_end'>&quot;</span></span><span class='rbrace'>}</span>
	<span class='id identifier rubyid_email'>email</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Email</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ID</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='id identifier rubyid_emailID'>emailID</span><span class='rbrace'>}</span>
	<span class='id identifier rubyid_email'>email</span><span class='period'>.</span><span class='id identifier rubyid_authStub'>authStub</span> <span class='op'>=</span> <span class='kw'>self</span>
	<span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_email'>email</span><span class='period'>.</span><span class='id identifier rubyid_post'>post</span>
	<span class='kw'>if</span> <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_status'>status</span> <span class='kw'>then</span> 
		<span class='id identifier rubyid_sendresult'>sendresult</span> <span class='op'>=</span> <span class='id identifier rubyid_email'>email</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span> 
		<span class='kw'>if</span> <span class='id identifier rubyid_sendresult'>sendresult</span><span class='period'>.</span><span class='id identifier rubyid_status'>status</span> <span class='kw'>then</span> 
			<span class='id identifier rubyid_deleteresult'>deleteresult</span> <span class='op'>=</span> <span class='id identifier rubyid_email'>email</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span>
			<span class='kw'>return</span> <span class='id identifier rubyid_sendresult'>sendresult</span>
		<span class='kw'>else</span> 
			<span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unable to send using send definition due to: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_results'>results</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:status_message</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
		<span class='kw'>end</span> 
	<span class='kw'>else</span>
		<span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unable to create send definition due to: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_results'>results</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:status_message</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
	<span class='kw'>end</span> 
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="SendTriggeredSends-instance_method">
  
    #<strong>SendTriggeredSends</strong>(arrayOfTriggeredRecords)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Starts an send operation for the TriggerredSend records</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>array</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>arrayOfTriggeredRecords Array of TriggeredSend records</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>The Send reponse object</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


205
206
207
208
209
210
211
212
213</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/marketingcloudsdk/client.rb', line 205</span>

<span class='kw'>def</span> <span class='const'>SendTriggeredSends</span><span class='lparen'>(</span><span class='id identifier rubyid_arrayOfTriggeredRecords'>arrayOfTriggeredRecords</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_sendTS'>sendTS</span> <span class='op'>=</span> <span class='const'>ET_TriggeredSend</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
	<span class='id identifier rubyid_sendTS'>sendTS</span><span class='period'>.</span><span class='id identifier rubyid_authStub'>authStub</span> <span class='op'>=</span> <span class='kw'>self</span>
	
	<span class='id identifier rubyid_sendTS'>sendTS</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>=</span> <span class='id identifier rubyid_arrayOfTriggeredRecords'>arrayOfTriggeredRecords</span>
	<span class='id identifier rubyid_sendResponse'>sendResponse</span> <span class='op'>=</span> <span class='id identifier rubyid_sendTS'>sendTS</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span>
	
	<span class='kw'>return</span> <span class='id identifier rubyid_sendResponse'>sendResponse</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Thu Nov 30 12:33:00 2017 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.12 (ruby-2.2.5).
</div>

    </div>
  </body>
</html>